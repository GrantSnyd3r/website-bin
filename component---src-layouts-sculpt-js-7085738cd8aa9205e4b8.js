(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"9EvB":function(e,t,a){a("zTTH"),a("E5k/");var n="Wishlist";var l={settings:{titleText:"",extraText:"",bg:"Black",titleColor:"Red",titlePolice:"RedRock",textColor:"White",extraTextColor:"White",capsPerLine:3},items:[]};function r(e){var t,a;t=n,a=JSON.stringify(e),localStorage&&localStorage.setItem(t,a)}function o(){var e,t=(e=n,localStorage?localStorage.getItem(e):null);if(t)try{return JSON.parse(t)}catch(o){console.log("Unable to read the Wishlist object")}var a=Object.assign({},l);return r(a),a}e.exports={getWishlist:o,setWishlist:r,addCap:function(e){var t=o();return t.items.push({id:e,prio:!1}),r(t),t},rmCap:function(e){var t=o();return t.items=t.items.filter((function(t){return t.id!==e})),r(t),t},isInWishlist:function(e,t){return e&&e.items&&e.items.findIndex((function(e){return e.id===t}))>-1}}},CJAU:function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n);t.a=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"border px-4 py-3 rounded relative w-auto \n        bg-"+e.color+"-100 \n        border-"+e.color+"-400 \n        text-"+e.color+"-700",role:"alert"},l.a.createElement("strong",{className:"font-bold"},e.alertMessage),l.a.createElement("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3"},l.a.createElement("svg",{className:"fill-current h-6 w-6 text-"+e.color+"-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",onClick:function(){e.setAlert(!1)}},l.a.createElement("title",null,"Close"),l.a.createElement("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})))))}},bPrE:function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n);t.a=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:" modal opacity-100 ease-out justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none"},l.a.createElement("div",{className:"relative w-auto my-6 mx-auto max-w-3xl"},l.a.createElement("div",{className:" opacity-0 transition-opacity opacity-100 ease-out border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none"},l.a.createElement("div",{className:" flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t"},l.a.createElement("h3",{className:"text-2xl font-semibold"},e.modalHeader),l.a.createElement("button",{className:" p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:function(){e.setModal(!1)}},l.a.createElement("span",{className:" bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none"},"Ã—"))),l.a.createElement("div",null,e.children)))),l.a.createElement("div",{className:"modal-background opacity-25 fixed inset-0 z-40 bg-black"}))}},k65J:function(e,t,a){"use strict";a.r(t);a("pJf4");var n=a("q1tI"),l=a.n(n),r=a("Wbzz"),o=a("IP2g"),c=a("LvDl"),s=a("9EvB"),i=a("Bl7J"),m=a("vrFN"),u=a("kgzu"),d=a("bPrE"),f=function(e){var t=Object(n.useState)(""),a=t[0],r=t[1],o=Object(n.useState)(!1),c=o[0],s=o[1],i=Object(n.useState)(null),m=i[0],u=i[1],f=Object(n.useRef)(null);return l.a.createElement(d.a,{modalHeader:"Submit a New Colorway",setModal:e.setModal},l.a.createElement("div",{className:"relative p-6 flex content-around"},l.a.createElement("button",{className:"\n            mr-3\n            block\n            w-20\n            bg-indigo-500\n            hover:bg-indigo-700\n            text-white\n            font-bold\n            py-2 px-3\n            text-xs\n            rounded\n            "+(c&&"cursor-not-allowed opacity-50")+"\n            ",onClick:function(){f.current.click()},disabled:c},c?"Photo Uploaded":"Upload Photo"),l.a.createElement("input",{type:"file",ref:f,onChange:function(e){s(!0),u(e.target.files[0])},style:{display:"none"}}),l.a.createElement("input",{className:"suggest__input bg-purple-white shadow rounded border-0 p-2 w-full",placeholder:"Colorway Name",onChange:function(e){r(e.target.value)}}),l.a.createElement("button",{className:" ml-3 block w-20 bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-3 text-xs rounded",onClick:function(){var t,n,l,r,o;t=e.maker,n=e.sculpt,l=a,r=m,(o=new FormData).append("file",r),o.append("maker",t),o.append("sculpt",n),o.append("colorway",l),fetch("https://app.keycap-archivist.com/api/v2/submission",{method:"POST",body:o}).then((function(){e.setSuccessAlert(!0)})).catch((function(t){console.error("Error:",t),e.setErrorAlert(!0)})),e.setModal(!1)}},"Submit")))},p=a("CJAU");t.default=function(e){var t=e.pageContext,a=e.location,d=t.maker,b=t.makerUrl,g=t.sculpt,x=t.selfOrder,w=d.name+" - "+g.name,h=Object(n.useState)(void 0),E=h[0],v=h[1];Object(n.useEffect)((function(){v(Object(s.getWishlist)())}),[]);var y=!0===x?g.colorways:Object(c.sortBy)(g.colorways,(function(e){return e.name})),N=Object(n.useState)(!1),k=N[0],C=N[1],S=Object(n.useState)(!1),j=S[0],O=S[1],z=Object(n.useState)(!1),I=z[0],W=z[1];return l.a.createElement(i.a,null,j&&l.a.createElement(p.a,{color:"green",alertMessage:"Colorway Successfully Submitted",setAlert:O}),I&&l.a.createElement(p.a,{color:"red",alertMessage:"Colorway Submission Failed",setAlert:W}),l.a.createElement(m.a,{title:w,img:g.previewImg}),l.a.createElement("div",{className:"pt-4"},l.a.createElement(r.a,{to:"/",className:"text-blue-600"},l.a.createElement(o.a,{icon:["fas","home"]})),l.a.createElement("span",{className:"text-gray-400"}," / "),l.a.createElement(r.a,{to:b,className:"text-blue-600"},d.name)),l.a.createElement("div",{className:"flex text-3xl my-6 justify-between"},l.a.createElement("h2",{className:"font-bold"},g.name),l.a.createElement("button",{className:" inline-block block w-35 bg-teal-500 hover:bg-teal-700 text-white font-bold py-1 px-2 text-xs rounded",onClick:function(){return C(!0)}},"Submit a Colorway")),l.a.createElement("ul",{className:"flex flex-wrap flex-row list-none -ml-2 -mr-2"},y.map((function(e){return l.a.createElement("li",{key:e.id,id:e.id,className:"flex h-auto w-1/2 md:w-1/4 lg:w-1/5 py-1 px-1"},l.a.createElement("div",{className:" flex flex-col justify-between max-w-full min-w-full bg-white p-2 bg-white hover:text-blue-600 shadow-xs hover:shadow-md pb-4"},l.a.createElement(r.a,{to:a.pathname+"/"+e.id,className:"w-full h-full bg-gray-300 thumbnail-wrapper"},l.a.createElement(u.a,{loading:"lazy",className:"h-full w-full object-cover",src:e.img,alt:d.name+" - "+g.name+" - "+e.name})),l.a.createElement("div",{className:"font-bold flex flex-row pt-3 px-2 relative"},Object(s.isInWishlist)(E,e.id)?l.a.createElement(o.a,{id:"favStar",className:"m-1 absolute star-icon text-yellow-500 cursor-pointer",icon:["fas","star"],onClick:function(){return v(Object(s.rmCap)(e.id))}}):l.a.createElement(o.a,{id:"favStar",className:"m-1 absolute star-icon text-gray-500 cursor-pointer",icon:["fas","star"],onClick:function(){return v(Object(s.addCap)(e.id))}}),l.a.createElement(r.a,{to:a.pathname+"/"+e.id,className:"text-sm text-center w-full px-5"},e.name?e.name:"(Unknown)"))))}))),k&&l.a.createElement(f,{setModal:C,maker:d.name,sculpt:g.name,setErrorAlert:W,setSuccessAlert:O}))}},kgzu:function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),r=[160,175,168,219];t.a=function(e){var t=e.src,a=e.alt,n=e.className;return t.indexOf("googleusercontent")>-1?l.a.createElement("img",{loading:"lazy",src:t+"=s219",alt:a,srcSet:r.map((function(e){return t+"=s"+e+" "+e+"w"})).join(","),className:n}):l.a.createElement("img",{loading:"lazy",src:t,alt:a,className:n})}}}]);
//# sourceMappingURL=component---src-layouts-sculpt-js-7085738cd8aa9205e4b8.js.map